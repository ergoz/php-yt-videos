{% extends "layout.twig" %}

{% block top %}
    <p><br /><a href="../{{service.shortName}}">&laquo; {{service.name}}</a></p>
{% endblock %}

{% set title = service.name~"::"~method~"()" %}

{% block content %}

    <p>The charge will be created like so:</p>
    <pre>$service = ServiceFactory::create('{{ service.shortName }}');
$response = $service->{{ method }}($params);</pre>

    <form method="post" class="form-horizontal">

        <h2>Request Parameters</h2>

        <p>The following parameters are available. Not all options are required by all services.</p>
        <p><span class="label label-info">Note</span> Normally these parameters would be generated by your application and not set via form input.</p>

        {% for key, val in service.requestParameters(method) %}

            <div class="control-group">
                <label class="control-label" for="params_{{key}}">{{ key }}</label>
                <div class="controls">
                    <input type="text" name="params[{{key}}]" id="params_{{key}}" value="{{(params[key] is defined ? params[key] : val)}}" />
                </div>
            </div>

        {% endfor %}

        <div class="form-actions"><button type="submit" class="btn">Submit</button></div>

    </form>

{% endblock %}
